

# AR-KungFu


## Game Introduction 游戏介绍：《KungFu》


 ![image](https://img.shields.io/badge/AR-KungFu-red)  ![image](https://img.shields.io/badge/License-MIT-orange)  ![image](https://img.shields.io/badge/Rander-URP-green) ![image](https://img.shields.io/badge/Unity-2022.3.17-blue)  
 

 



![image](https://s2.loli.net/2024/04/23/5Egxt2VObhd1uQK.gif)


## ☯️Video Sample 视频示例
* ## [ **功夫概念视频KungFu Concept Video** ⬅️click here](https://youtu.be/a6mUjBHMFNM?feature=shared)


 ![image](https://s2.loli.net/2024/04/24/mPjW7vL3Nto2e86.gif) ![image](https://s2.loli.net/2024/04/24/hPkT8slVLgnCZSi.gif)   
![image](https://s2.loli.net/2024/04/24/pugzY3wbnJQa7i4.gif) ![image](https://s2.loli.net/2024/04/24/zj8nh9vQsabHVuD.gif)
> 实时游戏体验 Real-time gaming experience

   
## ☯️Project Introduction 项目介绍  



**KungFu** 是一款结合了AR（增强现实）和武术的游戏。 它使用Holokit模块来实现三维渲染和手部追踪。 基于动态捕捉武术大师获得的运动路径，通过建模和骨骼绑定实现虚拟现实。 人主导训练，利用空间计算技术实现太极AR模式的开发，包括单人跟练、单人打怪、多人对战三种模式。  

**KungFu** is a game that combines AR (augmented reality) and martial arts. It uses the Holokit module to achieve three-dimensional rendering and hand tracking. Based on the motion path obtained by the dynamic capture martial arts master, virtual reality is realized through modeling and bone binding. People lead the training, and spatial computing technology is used to realize the development of Tai Chi AR mode, including three modes: single-player follow-up training, single-player monster fighting and multi-player battle.   



* **☯️Story summary故事概要:**   

在全球磁暴的混乱中，五行失去平衡，世界急需武者收集散落的五行碎片。 作为主角，玩家将进入一个神秘的洞穴，遇到代表金、木、水、火、土五种元素的五位虚拟大师。 玩家必须学习各自五行的拳法，通过挑战和练习收集碎片，重塑五行的稳定性。 通过不断的练习和练习，以及征服各种元素的怪物，玩家将逐渐明白五元素的相互依存和克制，最终成为五元素武侠世界的传奇。 在游戏中，玩家将与其他武者一起保护世界的和平与稳定，维持五元素的平衡与和谐。  

In the chaos of the global magnetic storm, the Five Elements are out of balance, and the world is in urgent need of martial artists to collect the scattered fragments of the Five Elements. As the protagonist, the player will enter a mysterious cave and meet five virtual masters representing the five elements of gold, wood, water, fire and earth. Players must learn the boxing techniques of their respective Five Elements, collect fragments through challenges and practice, and reshape the stability of the Five Elements. With continuous practice and practice, as well as conquering monsters of various elements, players will gradually understand the interdependence and restraint of the five elements, and eventually become legends in the five elements martial arts world. In the game, players will work with other martial artists to protect the peace and stability of the world and maintain the balance and harmony of the five elements.     






![image](https://s2.loli.net/2024/04/18/9sqarSUplGLygeb.png)  ![image](https://s2.loli.net/2024/04/18/LfdOsu91xYDE5eP.jpg) ![image](https://s2.loli.net/2024/04/18/GIPJhigTKe4vW8H.png)                 






                                                                                                                                                                                          
* **☯️How to play 玩法说明:**  

1.打开KungFu（功夫）应用程序，点击选择练习模式，选择您要练习的武术类型。  
2.点击双目渲染模式，将手机插入Holokit头戴式显示设备并佩戴。  
3. 单击开始按钮， 倒计时结束后，按照看到的箭头到达蓝色头像定位点。移动双手跟随定位标记即可触发特效，同时可以参考前方虚拟人进行练习。    

1. Open the KungFu (Kung Fu) app, click to select the practice mode, and select the boxing method you want to practice.
2. Click on the binocular rendering mode, insert the phone into the Holokit head-mounted display device and wear it       
3. Click the start button. After the countdown is over, follow the arrow you see to the blue avatar positioning point. Move your hands to follow the positioning mark to trigger special effects. At the same time, you can refer to the avatar in front for Tai Chi practice.

![image](https://s2.loli.net/2024/04/23/nVtNT9k1MIFaDuC.gif)
![image](https://s2.loli.net/2024/04/23/1HJmtcXTCznx7wg.gif)
![image](https://s2.loli.net/2024/04/23/LAyuXM94j1VU3Qw.gif)

> 双目渲染模式下手机屏幕画面
> Mobile phone screen in stereoscopic rendering mode





* **☯️Requirements 要求:**   

This project aims to build an app runs on iOS devices.

1.Unity 2022.3.17f1c1

2.Xcode 15.2

3.iPhone with lidar capability

* **☯️How to use 使用说明:**   

1.Clone the project, open with Unity

2.Build this scene to an Xcode project

3.Open Xcode, build app to your mobile device  




## ☯️ Released——Single player follow-up mode 已发布——单人跟练模式 
![image](https://s2.loli.net/2024/04/22/o7z5huGURgb8Z9I.gif)  ![image](https://s2.loli.net/2024/04/22/nOqSakQuw8jGsNY.gif)   


**1.空间计算与物体定位 Spatial computing and object positioning**  

**2.Holokit——手部追踪与立体渲染 Holokit - hand tracking and stereoscopic rendering** 

**3.空间实时交互与触发 Space real-time interaction and triggering**  

**4.界面UI交互与跳转 Interface UI interaction and jump**  

**5.实时动作检测与判定 Real-time action detection and determination**  

 
* [☯️ **Holokit software development kit Holokit模组开发**](https://github.com/holokit/holokit-unity-sdk)

HoloKit 是一款光学透明的混合现实设备，可将 iPhone 转变为强大的立体 AR 设备。 借助HoloKit Unity SDK，调用其立体渲染和手部追踪两大核心功能，在Unity中开发武术AR体验，可通过HoloKit头戴式显示设备观看。
立体渲染是该SDK的核心功能，可以让立体图像显示在iPhone屏幕上。 通过将iPhone连接到HoloKit，您可以在AR武术世界中获得身临其境的视听体验。 SDK 利用 Apple Vision 框架来检测用户的手势。 与LiDAR深度传感器一起，iPhone用于跟踪用户手部的3D位置，以触发太极特效。
  

HoloKit is an optically clear mixed reality headset that transforms an iPhone into a powerful stereoscopic AR device. With the help of HoloKit Unity SDK, call its two core functions of stereoscopic rendering and hand tracking to develop martial arts AR experiences in Unity, which can be viewed through HoloKit head-mounted display devices.        
Stereoscopic rendering is a core feature of the SDK that allows stereoscopic images to be displayed on the iPhone screen. By connecting your iPhone to HoloKit, you can get an immersive audio-visual experience in the world of AR martial arts. Leveraging the Apple Vision framework, the SDK detects the user's hand gestures. Together with the LiDAR depth sensor, the iPhone is used to track the 3D position of the user's hand to trigger Tai Chi special effects.

![image](https://s2.loli.net/2024/04/19/RlbIvGm3qe1SHWP.gif)       









* ☯️****Motion Capture 动态捕捉****   


后续训练模式中，采用虚拟人引导训练，采用[Move One](https://www.move.ai/single-camera)动态捕捉武术高手， 采用高标准、高标准的太极拳动作作为虚拟人体骨骼。 基于运动，导入blender进行动画模拟，烘焙动画后导入unity进行开发。 将传统设计与现代设计相结合，设计出虚拟人形象，并与骨骼绑定，实现虚拟人太极拳训练。  

In the follow-up training mode, a virtual human is used to lead the training, and [Move One](https://www.move.ai/single-camera) is used to dynamically capture the martial arts master, and the high-standard and high-standard Tai Chi movements are used as the virtual human skeleton. Based on the motion, import it into blender for animation simulation, bake the animation and then import it into unity for development. Combining traditional design with modern design, design a virtual human image, and bind it with bones to realize virtual human Tai Chi training.

![image](https://s2.loli.net/2024/04/18/V7lNFJuZcYRx6eQ.gif) ![image](https://s2.loli.net/2024/04/18/PtHi5kChjq2KOpB.png)

 ![image](https://s2.loli.net/2024/04/18/t7YuV5lyEjdDWsg.gif) ![image](https://s2.loli.net/2024/04/19/CVbWLA41Ejnxre2.gif) 
 
 

* ****☯️Spatial Operations 空间运算****

根据我们使用的动作捕捉模型，我们在游戏空间中设置了多个锚点。 当玩家在游戏过程中进行手部动作时，我们通过空间操作来识别手部的位置，并根据手部位置的变化触发相应的空间效果。 根据虚拟人的尺寸控制，实现真人物理位置的空间计算，并通过手部引导控制移动速度，实现游戏在空间中的操作和触发。  

Depending on the motion capture model we are using, we have multiple anchor points set up in the game space. When the player makes hand movements during the game, we use spatial operations to identify the position of the hand, and trigger corresponding spatial effects based on changes in hand position. According to the size control of the virtual person, the spatial calculation of the physical position of the real person is realized, and the movement speed is controlled through hand guidance to achieve the operation and triggering of the game in the space.

* ****☯️Spatial Interaction Trigger 空间交互触发****

我们对太极动作进行了深入分析，以确定太极动作的关键节点和空间位置。随后我们在游戏中的animator中设置了与这些关键节点相对应的动画，并形成了一系列空间交互点位。当玩家的手指触碰到这些固定点位上的光标时，将按照预先设定的顺序触发相关动画和特效，从而增强玩家的游戏体验和互动性，
                                                                                                          

We conducted an in-depth analysis of Tai Chi movements to determine the key nodes and spatial locations of Tai Chi movements. We then set up animations corresponding to these key nodes in the animator in the game, and formed a series of spatial interaction points. When the player's finger touches the cursor at these fixed points, relevant animations and special effects will be triggered in a preset order, thereby enhancing the player's gaming experience and interactivity.

![image](https://s2.loli.net/2024/04/23/3ATSjCOuoVM1XPa.gif)    ![image](https://s2.loli.net/2024/04/23/aVXKnEGyCO5oibW.gif)       

* ****☯️Special Effects Production 美术制作****

当玩家完成手部动作并触发光标时，光标消散并触发太极特效动画。 根据五种元素属性设置不同的特效形状和触发效果。  

When the player completes the movement of his hand and triggers the cursor, the cursor dissipates and triggers the Tai Chi special effects animation. Set different special effect shapes and trigger effects according to the five elements attributes.


![image](https://s2.loli.net/2024/04/23/xdjXr5lOy8LTcCo.gif)   

## ☯️ In Program——Multi-platform development and optimization 进行中—— 平台优化开发

* ☯️****System Optimization 系统优化****
  
我们调试代码、减少内存占用优化界面渲染、提高应用启动速度和响应时间，以及合理利系统资源等方法，旨在提高苹果设备上应用的性能和稳定性。  

We aredebugging code, reducing memory usage, optimizing interface rendering, improving application startup speed and response time, and rationally utilizing system resources to improve the performance and stability of applications on Apple devices.  

* ☯️****Multi-platform development 多平台开发****

通过将 KungFu 开发迁移到 Rokid和 vison pro 平台，您将能够使用 Rokid 和 vison pro 平台使用 KungFu 应用程序。  

By migrating KungFu development to the Rokid and Vison Pro platforms, you will be able to use KungFu applications using the Rokid and Vison Pro platforms.  

* ☯️****Gameplay optimization 玩法优化****

我们正在探索利用空间识别技术，通过模拟抛物线落点的方式来识别地面，以确保物体能够准确地停留在地面上并播放相应的动画。  

We are exploring the use of spatial recognition technology to identify the ground by simulating the landing point of a parabola to ensure that objects can accurately stay on the ground and play corresponding animations.




## ☯️Planned——Multimodal Development 计划——多模式开发

   ![image](https://s2.loli.net/2024/04/23/RSIsr2jHGyeMzOm.gif)

* ****☯️Pattern Development 模式开发****

随着项目的发展，我们计划扩展至单人打怪模式和多人对战模式。这将涉及到游戏机制的设计和实现，包括敌人A1、战斗系统、多人联机功能等方面的开发。

As the project develops, we plan to expand to a single-player monster-fighting mode and a multi-player battle mode. This will involve the design and implementation of game mechanics, including the development of enemy AI, combat systems, multiplayer online functions, etc.

* ****☯️Content Production 内容制作****

未来完善太极全式拳法教学内容并进一步制作相关动作的特效，涉及对太极拳的深入研究和教学内容的系统化设计，以及对特效制作的精益求精

In the future, improving the teaching content of Tai Chi's full-style boxing method and further producing special effects for related movements will involve in-depth research on Tai Chi and the systematic design of teaching content, as well as the pursuit of excellence in special effects production. 


## ☯️Under Consideration——Newchallenges 正在考虑中——新挑战  

* ****☯️Expanding the Android AR platform 拓展Android AR平台****

我们未来的发展计划包括拓展Android增强现实(AR)平台的功能和应用范围。我们将致力于深入研究AR技术，并将其应用于Android平台  

Our future development plans include expanding the functionality and application scope of the Android augmented reality (AR) platform. We will be committed to in-depth research on AR technology and applying it to the Android platform  

* ****☯️Automatic test mode 自动测试模式****

AR功能的快速测试和迭代以及自动化测试。  

Rapid testing and iteration of AR features and automated testing.  

* ****☯️Two-person scene interoperability Vison Pro双人场景互通****

 在Vision Pro内实现双人场景的无缝互通。我们将结合太极拳的教学理念和互动技术，设计并研发出一种全新的多人太极互动模式  

Achieve seamless interoperability of two-person scenes in Vision Pro. We will combine the teaching concepts and interactive technology of Tai Chi to design and develop a new multi-person Tai Chi interactive model.




 ## RoadMap 路线图

![image](https://s2.loli.net/2024/04/23/uYr8kvS7dtcbHqU.png)

 ## Thanks 特别鸣谢 
 
 非常感谢本次课程给予我们的技术支持，感谢俞同舟、卢泳如、Amber老师的技术指导和方向规划！  
 
 We are very grateful for the technical support given to us by the course this time, and thanks to our teachers, Tongzhou Yu, Yongru Lu,Amberfor their technical guidance and direction planning!  
 
 
 ## License 许可证  
 
 该项目根据 MIT 许可证获得许可。  
 
 This project is licensed under the MIT License. For details, please see the [ License](https://github.com/ar-KungFu/ar-KungFu?tab=MIT-1-ov-file#) file.

 ## Contact 联系我们  
 
 如果您遇到任何问题、有疑问、建议或发现任何错误，欢迎您通过 2362771326@qq.com 与我们联系。 您的反馈非常宝贵，因为我们不断努力更新和改进我们的项目。  
 
 If you encounter any issues, have queries, suggestions, or discover any bugs, we welcome you to contact us through  2362771326@qq.com . Your feedback is invaluable as we continually strive to update and improve our project.
